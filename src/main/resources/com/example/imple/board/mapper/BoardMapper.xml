<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.imple.board.mapper.BoardMapper">
<select id="countAll">
	select count(*) from board
</select>

<select id="selectAll">
	select * 
	  from board
	 order by bno
</select>

<select id="selectPage">
	select * 
	  from board
	 order by bno
</select>

<select id="selectByBno">
	select *
	  from board
	 where bno = #{bno}
</select>

<select id="selectByWriter">
	select *
	  from board
	 where writer = #{writer}
</select>

<insert id="insertBoard">
	insert into board
	values (
		board_bno_seq.nextval,
		#{title,			jdbcType=VARCHAR},
		#{content,  		jdbcType=VARCHAR},
		#{writer,			jdbcType=VARCHAR},
		#{regdate,			jdbcType=DATE}
		#{viewcnt,			jdbcType=BIGINT}
	)
 	<selectKey keyProperty="bno" resultType="long" order="AFTER"> <!--insert하고 bno값을 selectkey로 확인할수있게 만들어줌 -->
		select board_bno_seq.currval from dual
	</selectKey>
</insert>

<update id="updateBoard">
	update board
	   set title	=	#{title,	jdbcType=VARCHAR},
	   	   content  =	#{content,  jdbcType=VARCHAR},
	   	   writer	=	#{writer,	jdbcType=VARCHAR},
	   	   regdate	=	#{regdate,	jdbcType=DATE},
	   	   viewcnt	=	#{viewcnt,	jdbcType=BIGINT}
     where bno			= 	#{bno}
</update>

<delete id="delete">
	delete from board
	 where bno = #{bno}
</delete>





</mapper>